Update your **`/register`** route so it accepts `multipart/form-data` and runs your existing Multer middleware **before** the register controller. Concretely: in the register router, add `uploadProfilePicture` (i.e., `profilePictureUpload.single("profilePicture")`) and `handleMulterError` in the middleware chain, and do **not** add `authenticate` because registration is unauthenticated. Then, in the register controller/service, read the uploaded file from `req.file` and set `profilePicture` on the new user to `req.file.filename` (and return `profilePictureUrl` like `/uploads/profiles/${req.file.filename}` if you want). From Postman, call `POST /register` once with Body â†’ `form-data`, include your normal text fields (name/email/password) plus a file field named exactly `profilePicture`; Multer will save the file during request parsing, and your controller will create the user record using that filename.
